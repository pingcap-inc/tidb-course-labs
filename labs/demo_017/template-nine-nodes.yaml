global:
  user: "ec2-user"
  ssh_port: 22
  deploy_dir: "/tidb-deploy"
  data_dir: "/tidb-data"
  arch: "amd64"
server_configs:
  pd:
    replication.location-labels: ["region","host"]
    replication.max-replicas: 3
pd_servers:
  - host: <HOST_PD1_PRIVATE_IP>
    client_port: 2379
    peer_port: 2380
    advertise_client_addr: "http://<HOST_PD1_PUBLIC_IP>:2379"
  - host: <HOST_PD2_PRIVATE_IP>
    client_port: 2379
    peer_port: 2380
    advertise_client_addr: "http://<HOST_PD2_PUBLIC_IP>:2379"
  - host: <HOST_PD3_PRIVATE_IP>
    client_port: 2379
    peer_port: 2380
    advertise_client_addr: "http://<HOST_PD3_PUBLIC_IP>:2379"
tidb_servers:
  - host: <HOST_DB1_PRIVATE_IP>
    port: 4000
    status_port: 10080
    deploy_dir: /tidb-deploy/tidb-4000
    log_dir: /tidb-deploy/tidb-4000/log
  - host: <HOST_DB2_PRIVATE_IP>
    port: 4000
    status_port: 10080
    deploy_dir: /tidb-deploy/tidb-4000
    log_dir: /tidb-deploy/tidb-4000/log
tikv_servers:
  - host: <HOST_KV1_PRIVATE_IP>
    port: 20160
    status_port: 20180
    config:
      server.labels: { region: "region1", host: "tikv1" }
      in-memory-engine.capacity: 1GiB
      in-memory-engine.enable: false
      in-memory-engine.mvcc-amplification-threshold: 5
      in-memory-engine.load-evict-interval: 2m
  - host: <HOST_KV2_PRIVATE_IP>
    port: 20160
    status_port: 20180
    config:
      server.labels: { region: "region2", host: "tikv2" }
      in-memory-engine.capacity: 1GiB
      in-memory-engine.enable: true
      in-memory-engine.mvcc-amplification-threshold: 5
      in-memory-engine.load-evict-interval: 2m
  - host: <HOST_KV3_PRIVATE_IP>
    port: 20160
    status_port: 20180
    config:
      server.labels: { region: "region3", host: "tikv3" }
      in-memory-engine.capacity: 1GiB
      in-memory-engine.enable: true
      in-memory-engine.mvcc-amplification-threshold: 100
      in-memory-engine.load-evict-interval: 2m
monitoring_servers:
  - host: <HOST_MONITOR1_PRIVATE_IP>
grafana_servers:
  - host: <HOST_MONITOR1_PRIVATE_IP>
alertmanager_servers:
  - host: <HOST_MONITOR1_PRIVATE_IP>
